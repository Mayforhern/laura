"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6649],{10280:function(e,t,r){r.d(t,{Nc:function(){return p},Ry:function(){return h},Td:function(){return f},W8:function(){return E},XN:function(){return a},ZM:function(){return l},_f:function(){return _},e9:function(){return b},jH:function(){return c},lm:function(){return A},pM:function(){return m},sW:function(){return o},wB:function(){return y},xw:function(){return g},ys:function(){return d}});var n=r(99112);function i(e){return e?new Date(1e3*e):null}function s(e,t){return e.slice().sort((e,t)=>(e.firstVerifiedAt??e.verifiedAt).getTime()-(t.firstVerifiedAt??t.verifiedAt).getTime()).find(e=>e.type===t)}let o=e=>e?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType&&!e.imported&&"ethereum"===e.chainType&&0===e.walletIndex)||null,a=e=>(e?.linkedAccounts??[]).filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&!e.imported&&"ethereum"===e.chainType),l=e=>a(e).reduce((e,t)=>!e||e.walletIndex<t.walletIndex?t:e,null),u=(e,t)=>(e?.linkedAccounts??[]).filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&e.chainType===t),c=e=>(e?.linkedAccounts??[]).filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&!e.imported&&"solana"===e.chainType),d=e=>e?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType&&!e.imported&&"solana"===e.chainType&&0===e.walletIndex)||null,f=e=>c(e).reduce((e,t)=>!e||e.walletIndex<t.walletIndex?t:e,null),p=e=>e?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType&&e.imported&&"ethereum"===e.chainType)||null,h=e=>e?.linkedAccounts.find(e=>"wallet"===e.type&&e.imported&&"privy"===e.walletClientType&&"solana"===e.chainType)||null,_=(e,t)=>e?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType&&e.address===t)||null,m=e=>o(e)??d(e),y=e=>{if("ethereum"===e.chainType)return{entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier"};if("solana"===e.chainType)return{entropyId:e.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")},E=e=>{let t=m(e);if(!t)throw Error("Failed to find primary wallet");return y(t)},g=(e,t)=>{let r=u(e,"ethereum").find(e=>(0,n.K)(e.address)===(0,n.K)(t));return{signingWallet:r,rootWallet:r?r.imported?r:o(e):void 0}},b=(e,t)=>{let r=u(e,"solana").find(e=>e.address===t);return r?r.imported||0===r.walletIndex?{signingWallet:r,rootWallet:r}:{signingWallet:r,rootWallet:d(e)}:{}};function A(e){if(!e)return null;let t=function(e){let t=[];for(let r of e){let e=r.type;switch(r.type){case"wallet":let n={address:r.address,type:r.type,imported:r.imported,delegated:r.delegated,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at),chainType:r.chain_type,walletClientType:r.wallet_client_type,connectorType:r.connector_type,recoveryMethod:r.recovery_method,walletIndex:r.wallet_index};t.push(n);break;case"smart_wallet":let s={address:r.address,type:r.type,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at),smartWalletType:r.smart_wallet_type};t.push(s);break;case"cross_app":let o={type:r.type,subject:r.subject,embeddedWallets:r.embedded_wallets,smartWallets:r.smart_wallets,providerApp:{id:r.provider_app_id},verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)};t.push(o);break;case"email":let a={address:r.address,type:r.type,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)};t.push(a);break;case"phone":let l={number:r.phoneNumber,type:r.type,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)};t.push(l);break;case"google_oauth":let u={subject:r.subject,email:r.email,name:r.name,type:r.type,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)};t.push(u);break;case"spotify_oauth":let c={subject:r.subject,email:r.email,name:r.name,type:r.type,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)};t.push(c);break;case"instagram_oauth":let d={subject:r.subject,username:r.username,type:r.type,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)};t.push(d);break;case"twitter_oauth":let f={subject:r.subject,username:r.username,name:r.name,type:r.type,profilePictureUrl:r.profile_picture_url,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)};t.push(f);break;case"discord_oauth":let p={subject:r.subject,username:r.username,email:r.email,type:r.type,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)};t.push(p);break;case"github_oauth":let h={subject:r.subject,username:r.username,name:r.name,email:r.email,type:r.type,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)};t.push(h);break;case"tiktok_oauth":let _={subject:r.subject,username:r.username,name:r.name,type:r.type,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)};t.push(_);break;case"linkedin_oauth":let m={subject:r.subject,name:r.name,email:r.email,vanityName:r.vanity_name,type:r.type,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)};t.push(m);break;case"apple_oauth":let y={subject:r.subject,email:r.email,type:r.type,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)};t.push(y);break;case"custom_auth":t.push({type:r.type,customUserId:r.custom_user_id,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)});break;case"farcaster":let E={type:r.type,fid:r.fid,ownerAddress:r.owner_address,displayName:r.display_name,username:r.username,bio:r.bio,pfp:r.profile_picture_url,url:r.homepage_url,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at),signerPublicKey:r.signer_public_key};t.push(E);break;case"passkey":let g={type:r.type,enrolledInMfa:r.enrolled_in_mfa,credentialId:r.credential_id,authenticatorName:r.authenticator_name,createdWithDevice:r.created_with_device,createdWithOs:r.created_with_os,createdWithBrowser:r.created_with_browser,verifiedAt:i(r.verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)};t.push(g);break;case"telegram":let b={type:r.type,telegramUserId:r.telegram_user_id,firstName:r.first_name,lastName:r.last_name,username:r.username,photoUrl:r.photo_url,verifiedAt:i(r.first_verified_at),firstVerifiedAt:i(r.first_verified_at),latestVerifiedAt:i(r.latest_verified_at)};t.push(b);break;default:console.warn(`Unrecognized account type: ${e}. Please consider upgrading the Privy SDK.`)}}return t}(e.linked_accounts),r=s(t,"wallet"),n=s(t,"smart_wallet"),o=s(t,"email"),a=s(t,"phone"),l=s(t,"google_oauth"),u=s(t,"twitter_oauth"),c=s(t,"discord_oauth"),d=s(t,"github_oauth"),f=s(t,"spotify_oauth"),p=s(t,"instagram_oauth"),h=s(t,"tiktok_oauth"),_=s(t,"linkedin_oauth"),m=s(t,"apple_oauth"),y=s(t,"farcaster"),E=s(t,"telegram"),g=e.mfa_methods.map(({type:e,verified_at:t})=>({type:e,verifiedAt:i(t)}));return{id:e.id,createdAt:i(e.created_at),linkedAccounts:t,email:o&&{address:o?.address},phone:a&&{number:a?.number},wallet:r&&{address:r.address,chainType:r.chainType,walletClientType:r.walletClientType,connectorType:r.connectorType,recoveryMethod:r.recoveryMethod,imported:r.imported,delegated:r.delegated,walletIndex:r.walletIndex},smartWallet:n&&{address:n.address,smartWalletType:n.smartWalletType},google:l&&{subject:l.subject,email:l.email,name:l.name},twitter:u&&{subject:u.subject,username:u.username,name:u.name,profilePictureUrl:u.profilePictureUrl},discord:c&&{subject:c.subject,username:c.username,email:c.email},github:d&&{subject:d.subject,username:d.username,name:d.name,email:d.email},spotify:f&&{subject:f.subject,email:f.email,name:f.name},instagram:p&&{subject:p.subject,username:p.username},tiktok:h&&{subject:h.subject,username:h.username,name:h.name},linkedin:_&&{subject:_.subject,name:_.name,email:_.email,vanityName:_.vanityName},apple:m&&{subject:m.subject,email:m.email},farcaster:y&&{fid:y.fid,ownerAddress:y.ownerAddress,displayName:y.displayName,username:y.username,bio:y.bio,pfp:y.pfp,url:y.url,signerPublicKey:y.signerPublicKey},telegram:E&&{telegramUserId:E.telegramUserId,firstName:E.firstName,lastName:E.lastName,username:E.username,photoUrl:E.photoUrl},delegatedWallets:[],mfaMethods:g.map(e=>e.type),hasAcceptedTerms:e.has_accepted_terms??!1,isGuest:e.is_guest,customMetadata:e.custom_metadata}}},79714:function(e,t,r){r.d(t,{Bi:function(){return s},M9:function(){return u},Zp:function(){return p},_J:function(){return m},dx:function(){return a},fP:function(){return o},rT:function(){return l},sX:function(){return f},wN:function(){return d},wh:function(){return c},yV:function(){return _},z5:function(){return h}});var n,i=r(17520);class s extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,t,r){super(e),t instanceof Error&&(this.cause=t),this.privyErrorCode=r}}class o extends s{constructor(e,t,r,n,i,s){super(r,n,i),this.type=e,this.status=t,this.data=s}}class a extends s{constructor(e,t,r){super(e,t,r),this.type="client_error"}}class l extends a{constructor(){super("Request timed out",void 0,"client_request_timeout")}}class u extends s{constructor(e,t,r){super(e,t,r),this.type="connector_error"}}let c=e=>{if(e instanceof s)return e;if(!(e instanceof i.F))return d(e);if(!e.response)return new o("api_error",null,e.message,e);let{type:t,message:r,error:n,code:a}=e.data;return new o(t||"ApiError",e.response.status,r||n,e,a,e.data)},d=e=>e instanceof s?e:e instanceof Error?new a(e.message,e):new a(`Internal error: ${e}`);var f=((n={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",n.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",n.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",n.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",n.INVALID_DATA="invalid_data",n.INVALID_CAPTCHA="invalid_captcha",n.LINKED_TO_ANOTHER_USER="linked_to_another_user",n.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",n.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",n.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",n.USER_EXITED_UPDATE_FLOW="exited_update_flow",n.ALLOWLIST_REJECTED="allowlist_rejected",n.OAUTH_USER_DENIED="oauth_user_denied",n.OAUTH_UNEXPECTED="oauth_unexpected",n.UNKNOWN_AUTH_ERROR="unknown_auth_error",n.USER_EXITED_AUTH_FLOW="exited_auth_flow",n.USER_EXITED_LINK_FLOW="exited_link_flow",n.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",n.MUST_BE_AUTHENTICATED="must_be_authenticated",n.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",n.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",n.CLIENT_REQUEST_TIMEOUT="client_request_timeout",n.INVALID_CREDENTIALS="invalid_credentials",n.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",n.UNKNOWN_MFA_ERROR="unknown_mfa_error",n.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",n.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",n.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",n.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",n.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",n.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",n.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",n.TRANSACTION_FAILURE="transaction_failure",n.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",n.NOT_SUPPORTED="not_supported",n.CAPTCHA_TIMEOUT="captcha_timeout",n.INVALID_MESSAGE="invalid_message",n.UNABLE_TO_SIGN="unable_to_sign",n.CAPTCHA_FAILURE="captcha_failure",n.CAPTCHA_DISABLED="captcha_disabled",n.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",n.TOO_MANY_REQUESTS="too_many_requests",n.USER_LIMIT_REACHED="max_accounts_reached",n.DISALLOWED_LOGIN_METHOD="disallowed_login_method",n.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",n.PASSKEY_NOT_ALLOWED="passkey_not_allowed",n.USER_DOES_NOT_EXIST="user_does_not_exist",n.INSUFFICIENT_BALANCE="insufficient_balance",n.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",n);class p extends a{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}}class h extends a{constructor(e="Embedded wallet error",t){super(e,t,"unknown_embedded_wallet_error")}}class _ extends a{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}}class m extends a{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}}},74717:function(e,t,r){r.d(t,{Hc:function(){return a},Rb:function(){return l},VD:function(){return i},hE:function(){return s},rN:function(){return u}});var n=r(2265);let i={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},sendSolanaTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},s=(0,n.createContext)(void 0),o=()=>(0,n.useContext)(s);function a(e,t){if(!t)return;let r=o().current[e];return(0,n.useEffect)(()=>{for(let[n,i]of Object.entries(t))Object.prototype.hasOwnProperty.call(r,n)||console.warn(`Invalid event type "${n}" for action "${e}"`),r[n]?.push(i);return()=>{for(let[n,i]of Object.entries(t))Object.prototype.hasOwnProperty.call(r,n)||console.warn(`Invalid event type "${n}" for action "${e}"`),r[n]=r[n]?.filter(e=>e!==i)}},[t])}function l(e,t,r,...n){for(let i of e.current[t][r])i(...n)}function u(){let e=o();return(t,r,...n)=>l(e,t,r,...n)}},28848:function(e,t,r){r.d(t,{E:function(){return n},X:function(){return i}});let n=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},i=e=>()=>{throw Error(e.trim())}},60052:function(e,t,r){r.d(t,{m:function(){return s},u:function(){return o}});var n=r(2265),i=r(28848);let s=(0,n.createContext)({setAuthenticated:i.E,setUser:i.E,isNewUserThisSession:!1,walletConnectionStatus:null,connectors:[],solanaWallets:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,appId:"notAdded",customAuthStatus:{status:"not-enabled"},hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:i.E,initializeWalletProxy:i.E,getAuthMeta:i.E,getAuthFlow:i.E,closePrivyModal:i.E,openPrivyModal:i.E,connectWallet:i.E,initLoginWithWallet:i.E,loginWithWallet:i.E,initLoginWithFarcaster:i.E,loginWithFarcaster:i.E,loginWithCode:i.E,initLoginWithEmail:i.E,initLoginWithSms:i.E,initUpdateEmail:i.E,initUpdatePhone:i.E,resendEmailCode:i.E,resendSmsCode:i.E,initLoginWithHeadlessOAuth:i.E,loginWithHeadlessOAuth:i.E,crossAppAuthFlow:i.E,initLoginWithOAuth:i.E,recoveryOAuthFlow:i.E,loginWithOAuth:i.E,passkeyAuthState:{status:"initial"},setPasskeyAuthState:i.E,initSignupWithPasskey:i.E,signupWithPasskey:i.E,initLoginWithPasskey:i.E,loginWithPasskey:i.E,initLinkWithPasskey:i.E,linkWithPasskey:i.E,refreshSessionAndUser:i.E,loginWithGuestAccountFlow:i.E,walletProxy:null,createAnalyticsEvent:i.E,acceptTerms:i.E,getUsdTokenPrice:i.E,getUsdPriceForSol:i.E,getSplTokenMetadata:i.E,recoverPrimaryWallet:i.E,updateWallets:i.E,fundWallet:i.E,openModal:i.E,setReadyToTrue:i.E,requestFarcasterSignerStatus:i.E,initLoginWithTelegram:i.E,loginWithTelegram:i.E,generateSiweMessage:i.E,generateSiweMessageForSmartWallet:i.E,linkWithSiwe:i.E,linkSmartWallet:i.E,delegateWallet:i.E,revokeDelegatedWallets:i.E,embeddedSolanaWallets:null,createEmbeddedSolanaWallet:i.E,exportSolanaWallet:i.E,solanaSignMessage:i.E,sendSolanaTransaction:i.E,connectCoinbaseSmartWallet:i.E,initiateAccountTransfer:i.E,emailOtpState:{status:"initial"},setEmailOtpState:i.E,smsOtpState:{status:"initial"},setSmsOtpState:i.E,siweState:{status:"initial"},setSiweState:i.E,oAuthState:{status:"initial"},setOAuthState:i.E,isHeadlessOAuthLoading:!1}),o=()=>(0,n.useContext)(s)},72336:function(e,t,r){r.d(t,{N:function(){return s},b:function(){return o}});var n=r(2265),i=r(28848);let s=(0,n.createContext)({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:i.E,login:i.E,connectOrCreateWallet:i.E,linkEmail:i.E,linkPhone:i.E,linkFarcaster:i.E,linkWallet:i.E,startCrossAppAuthFlow:i.E,linkGoogle:i.E,linkTwitter:i.E,linkDiscord:i.E,linkGithub:i.E,linkSpotify:i.E,linkInstagram:i.E,linkTelegram:i.E,linkTiktok:i.E,linkLinkedIn:i.E,linkApple:i.E,linkPasskey:i.E,updateEmail:i.E,updatePhone:i.E,logout:i.E,getAccessToken:i.E,unlinkEmail:i.E,unlinkPhone:i.E,unlinkWallet:i.E,unlinkGoogle:i.E,unlinkTwitter:i.E,unlinkDiscord:i.E,unlinkGithub:i.E,unlinkSpotify:i.E,unlinkInstagram:i.E,unlinkTiktok:i.E,unlinkLinkedIn:i.E,unlinkApple:i.E,unlinkCrossAppAccount:i.E,unlinkFarcaster:i.E,unlinkTelegram:i.E,unlinkPasskey:i.E,createWallet:i.E,signMessage:i.E,signTypedData:i.E,enrollInMfa:i.E,initEnrollmentWithSms:i.E,initEnrollmentWithTotp:i.E,initEnrollmentWithPasskey:i.E,promptMfa:i.E,init:i.E,submitEnrollmentWithSms:i.E,submitEnrollmentWithTotp:i.E,submitEnrollmentWithPasskey:i.E,unenroll:i.E,submit:i.E,cancel:i.E,sendTransaction:i.E,signTransaction:i.E,exportWallet:i.E,setWalletPassword:i.E,setWalletRecovery:i.E,requestFarcasterSignerFromWarpcast:i.E,getFarcasterSignerPublicKey:i.E,signFarcasterMessage:i.E,createGuestAccount:i.E,signMessageWithCrossAppWallet:i.E,signTypedDataWithCrossAppWallet:i.E,sendTransactionWithCrossAppWallet:i.E,isModalOpen:!1,mfaMethods:[]}),o=()=>(0,n.useContext)(s)},6649:function(e,t,r){r.d(t,{s:function(){return d}});var n=r(2265),i=r(72336),s=r(10280),o=r(79714);let a=async({emitPrivyEvent:e,getAccessToken:t,initializeWalletProxy:r,refreshSessionAndUser:n,user:i},{privateKey:a,chainType:l})=>{if(!i)throw e("linkAccount","onError",o.sX.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new o.dx("User must be authenticated before linking an account.");let[u,c]=await Promise.all([t(),r(15e3)]);if(!c||!u)throw e("linkAccount","onError",o.sX.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new o.dx("User must be authenticated before linking an account.");await c.importWallet({privateKey:a,accessToken:u,chainType:l});let d=await n(),f="solana"===l?(0,s.Ry)(d):(0,s.Nc)(d);if(!f)throw e("createWallet","onError",o.sX.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return e("createWallet","onSuccess",{wallet:f}),f};var l=r(74717),u=r(60052);let c=()=>{let{getAccessToken:e,user:t}=(0,i.b)(),{refreshSessionAndUser:r,initializeWalletProxy:s}=(0,u.u)(),o=(0,l.rN)();return{importWallet:(0,n.useCallback)(({privateKey:n})=>a({getAccessToken:e,user:t,initializeWalletProxy:s,refreshSessionAndUser:r,emitPrivyEvent:o},{privateKey:n,chainType:"ethereum"}),[t,e,r,s,o])}},d=()=>{let{importWallet:e}=c();return{...(0,n.useContext)(i.N),importWallet:e}}},10259:function(e,t,r){r.d(t,{ZP:function(){return a}});let n=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,i=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,s=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function o(e,t){if("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`);return}return t}function a(e,t={}){if("string"!=typeof e)return e;let r=e.trim();if('"'===e[0]&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){let e=r.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;if("undefined"===e)return;if("null"===e)return null;if("nan"===e)return Number.NaN;if("infinity"===e)return Number.POSITIVE_INFINITY;if("-infinity"===e)return Number.NEGATIVE_INFINITY}if(!s.test(e)){if(t.strict)throw SyntaxError("[destr] Invalid JSON");return e}try{if(n.test(e)||i.test(e)){if(t.strict)throw Error("[destr] Possible prototype pollution");return JSON.parse(e,o)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}},17520:function(e,t,r){r.d(t,{F:function(){return T},c:function(){return function e(t={}){let{fetch:r=globalThis.fetch,Headers:i=globalThis.Headers,AbortController:s=globalThis.AbortController}=t;async function o(e){let t=e.error&&"AbortError"===e.error.name&&!e.options.timeout||!1;if(!1!==e.options.retry&&!t){let t;t="number"==typeof e.options.retry?e.options.retry:S(e.options.method)?0:1;let r=e.response&&e.response.status||500;if(t>0&&(Array.isArray(e.options.retryStatusCodes)?e.options.retryStatusCodes.includes(r):x.has(r))){let r="function"==typeof e.options.retryDelay?e.options.retryDelay(e):e.options.retryDelay||0;return r>0&&await new Promise(e=>setTimeout(e,r)),a(e.request,{...e.options,retry:t-1})}}let r=function(e){let t=e.error?.message||e.error?.toString()||"",r=e.request?.method||e.options?.method||"GET",n=e.request?.url||String(e.request)||"/",i=`[${r}] ${JSON.stringify(n)}`,s=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",o=new T(`${i}: ${s}${t?` ${t}`:""}`,e.error?{cause:e.error}:void 0);for(let t of["request","options","response"])Object.defineProperty(o,t,{get:()=>e[t]});for(let[t,r]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,t,{get:()=>e.response&&e.response[r]});return o}(e);throw Error.captureStackTrace&&Error.captureStackTrace(r,a),r}let a=async function(e,a={}){let u;let c={request:e,options:function(e,t,r,n){let i;let s=function(e,t,r){if(!t)return new r(e);let n=new r(t);if(e)for(let[t,i]of Symbol.iterator in e||Array.isArray(e)?e:new r(e))n.set(t,i);return n}(t?.headers??e?.headers,r?.headers,n);return(r?.query||r?.params||t?.params||t?.query)&&(i={...r?.params,...r?.query,...t?.params,...t?.query}),{...r,...t,query:i,params:i,headers:s}}(e,a,t.defaults,i),response:void 0,error:void 0};if(c.options.method&&(c.options.method=c.options.method.toUpperCase()),c.options.onRequest&&await N(c,c.options.onRequest),"string"==typeof c.request&&(c.options.baseURL&&(c.request=function(e,t){if(!t||"/"===t||A(e))return e;let r=function(e="",t){return(!function(e="",t){return e.endsWith("/")}(e)?e:e.slice(0,-1))||"/"}(t);return e.startsWith(r)?e:function(e,...t){let r=e||"";for(let e of t.filter(e=>e&&"/"!==e))if(r){let t=e.replace(b,"");r=function(e="",t){return e.endsWith("/")?e:e+"/"}(r)+t}else r=e;return r}(r,e)}(c.request,c.options.baseURL)),c.options.query&&(c.request=function(e,t){let r=function e(t="",r){let n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){let[,e,t=""]=n;return{protocol:e.toLowerCase(),pathname:t,href:e+t,auth:"",host:"",search:"",hash:""}}if(!A(t,{acceptRelative:!0}))return r?e(r+t):v(t);let[,i="",s,o=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,a="",l=""]=o.match(/([^#/?]*)(.*)?/)||[];"file:"===i&&(l=l.replace(/\/(?=[A-Za-z]:)/,""));let{pathname:u,search:c,hash:d}=v(l);return{protocol:i.toLowerCase(),auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:a,pathname:u,search:c,hash:d,[w]:!i}}(e),n={...function(e=""){let t={};for(let r of("?"===e[0]&&(e=e.slice(1)),e.split("&"))){let e=r.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;let n=_(e[1].replace(l," "));if("__proto__"===n||"constructor"===n)continue;let i=_((e[2]||"").replace(l," "));void 0===t[n]?t[n]=i:Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]}return t}(r.search),...t};return r.search=Object.keys(n).filter(e=>void 0!==n[e]).map(e=>{var t;return(("number"==typeof(t=n[e])||"boolean"==typeof t)&&(t=String(t)),t)?Array.isArray(t)?t.map(t=>`${h(e)}=${p(t)}`).join("&"):`${h(e)}=${p(t)}`:h(e)}).filter(Boolean).join("&"),function(e){let t=e.pathname||"",r=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",n=e.hash||"",i=e.auth?e.auth+"@":"",s=e.host||"";return(e.protocol||e[w]?(e.protocol||"")+"//":"")+i+s+t+r+n}(r)}(c.request,c.options.query),delete c.options.query),"query"in c.options&&delete c.options.query,"params"in c.options&&delete c.options.params),c.options.body&&S(c.options.method)&&(function(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(c.options.body)?(c.options.body="string"==typeof c.options.body?c.options.body:JSON.stringify(c.options.body),c.options.headers=new i(c.options.headers||{}),c.options.headers.has("content-type")||c.options.headers.set("content-type","application/json"),c.options.headers.has("accept")||c.options.headers.set("accept","application/json")):("pipeTo"in c.options.body&&"function"==typeof c.options.body.pipeTo||"function"==typeof c.options.body.pipe)&&!("duplex"in c.options)&&(c.options.duplex="half")),!c.options.signal&&c.options.timeout){let e=new s;u=setTimeout(()=>{let t=Error("[TimeoutError]: The operation was aborted due to timeout");t.name="TimeoutError",t.code=23,e.abort(t)},c.options.timeout),c.options.signal=e.signal}try{c.response=await r(c.request,c.options)}catch(e){return c.error=e,c.options.onRequestError&&await N(c,c.options.onRequestError),await o(c)}finally{u&&clearTimeout(u)}if((c.response.body||c.response._bodyInit)&&!W.has(c.response.status)&&"HEAD"!==c.options.method){let e=(c.options.parseResponse?"json":c.options.responseType)||function(e=""){if(!e)return"json";let t=e.split(";").shift()||"";return O.test(t)?"json":I.has(t)||t.startsWith("text/")?"text":"blob"}(c.response.headers.get("content-type")||"");switch(e){case"json":{let e=await c.response.text(),t=c.options.parseResponse||n.ZP;c.response._data=t(e);break}case"stream":c.response._data=c.response.body||c.response._bodyInit;break;default:c.response._data=await c.response[e]()}}return(c.options.onResponse&&await N(c,c.options.onResponse),!c.options.ignoreResponseError&&c.response.status>=400&&c.response.status<600)?(c.options.onResponseError&&await N(c,c.options.onResponseError),await o(c)):c.response},u=async function(e,t){return(await a(e,t))._data};return u.raw=a,u.native=(...e)=>r(...e),u.create=(r={},n={})=>e({...t,...n,defaults:{...t.defaults,...n.defaults,...r}}),u}}});var n=r(10259);let i=/#/g,s=/&/g,o=/\//g,a=/=/g,l=/\+/g,u=/%5e/gi,c=/%60/gi,d=/%7c/gi,f=/%20/gi;function p(e){return encodeURI(""+("string"==typeof e?e:JSON.stringify(e))).replace(d,"|").replace(l,"%2B").replace(f,"+").replace(i,"%23").replace(s,"%26").replace(c,"`").replace(u,"^").replace(o,"%2F")}function h(e){return p(e).replace(a,"%3D")}function _(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}let m=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,y=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,E=/^([/\\]\s*){2,}[^/\\]/,g=/\/$|\/\?|\/#/,b=/^\.?\//;function A(e,t={}){return("boolean"==typeof t&&(t={acceptRelative:t}),t.strict)?m.test(e):y.test(e)||!!t.acceptRelative&&E.test(e)}let w=Symbol.for("ufo:protocolRelative");function v(e=""){let[t="",r="",n=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:n}}class T extends Error{constructor(e,t){super(e,t),this.name="FetchError",t?.cause&&!this.cause&&(this.cause=t.cause)}}let k=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function S(e="GET"){return k.has(e.toUpperCase())}let I=new Set(["image/svg","application/xml","application/xhtml","application/html"]),O=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;async function N(e,t){if(t){if(Array.isArray(t))for(let r of t)await r(e);else await t(e)}}let x=new Set([408,409,425,429,500,502,503,504]),W=new Set([101,204,205,304])},51359:function(e,t,r){r.d(t,{b:function(){return i}});var n=r(61472);class i extends n.G{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}},61472:function(e,t,r){r.d(t,{G:function(){return s}});let n="2.24.2",i={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${n}`};class s extends Error{constructor(e,t={}){let r=t.cause instanceof s?t.cause.details:t.cause?.message?t.cause.message:t.details,o=t.cause instanceof s&&t.cause.docsPath||t.docsPath,a=i.getDocsUrl?.({...t,docsPath:o});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...a?[`Docs: ${a}`]:[],...r?[`Details: ${r}`]:[],...i.version?[`Version: ${i.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=o,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=n}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}},75057:function(e,t,r){r.d(t,{$s:function(){return s},W_:function(){return o},mV:function(){return i}});var n=r(61472);class i extends n.G{constructor({offset:e,position:t,size:r}){super(`Slice ${"start"===t?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}}class s extends n.G{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}class o extends n.G{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${t} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}},74188:function(e,t,r){r.d(t,{Cd:function(){return o},J5:function(){return i},M6:function(){return a},yr:function(){return s}});var n=r(61472);class i extends n.G{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class s extends n.G{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class o extends n.G{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}class a extends n.G{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}},99112:function(e,t,r){r.d(t,{K:function(){return c},x:function(){return u}});var n=r(51359),i=r(82361),s=r(45626),o=r(98992),a=r(64113);let l=new o.k(8192);function u(e,t){if(l.has(`${e}.${t}`))return l.get(`${e}.${t}`);let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=(0,s.w)((0,i.qX)(r),"bytes"),o=(t?r.substring(`${t}0x`.length):r).split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&o[e]&&(o[e]=o[e].toUpperCase()),(15&n[e>>1])>=8&&o[e+1]&&(o[e+1]=o[e+1].toUpperCase());let a=`0x${o.join("")}`;return l.set(`${e}.${t}`,a),a}function c(e,t){if(!(0,a.U)(e,{strict:!1}))throw new n.b({address:e});return u(e,t)}},64113:function(e,t,r){r.d(t,{U:function(){return a}});var n=r(98992),i=r(99112);let s=/^0x[a-fA-F0-9]{40}$/,o=new n.k(8192);function a(e,t){let{strict:r=!0}=t??{},n=`${e}.${r}`;if(o.has(n))return o.get(n);let a=!!s.test(e)&&(e.toLowerCase()===e||!r||(0,i.x)(e)===e);return o.set(n,a),a}},40369:function(e,t,r){r.d(t,{v:function(){return n}});function n(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}},88202:function(e,t,r){r.d(t,{gc:function(){return s},vk:function(){return i}});var n=r(75057);function i(e,{dir:t,size:r=32}={}){return"string"==typeof e?s(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new n.$s({size:e.length,targetSize:r,type:"bytes"});let i=new Uint8Array(r);for(let n=0;n<r;n++){let s="right"===t;i[s?n:r-n-1]=e[s?n:e.length-n-1]}return i}(e,{dir:t,size:r})}function s(e,{dir:t,size:r=32}={}){if(null===r)return e;let i=e.replace("0x","");if(i.length>2*r)throw new n.$s({size:Math.ceil(i.length/2),targetSize:r,type:"hex"});return`0x${i["right"===t?"padEnd":"padStart"](2*r,"0")}`}},7508:function(e,t,r){r.d(t,{d:function(){return i}});var n=r(40369);function i(e){return(0,n.v)(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}},77955:function(e,t,r){r.d(t,{f:function(){return n}});function n(e,{dir:t="left"}={}){let r="string"==typeof e?e.replace("0x",""):e,n=0;for(let e=0;e<r.length-1&&"0"===r["left"===t?e:r.length-e-1].toString();e++)n++;return(r="left"===t?r.slice(n):r.slice(0,r.length-n),"string"==typeof e)?(1===r.length&&"right"===t&&(r=`${r}0`),`0x${r.length%2==1?`0${r}`:r}`):r}},21019:function(e,t,r){r.d(t,{XA:function(){return u},Yf:function(){return a},ly:function(){return c},rR:function(){return d},y_:function(){return l}});var n=r(74188),i=r(7508),s=r(77955),o=r(82361);function a(e,{size:t}){if((0,i.d)(e)>t)throw new n.M6({givenSize:(0,i.d)(e),maxSize:t})}function l(e,t={}){let{signed:r}=t;t.size&&a(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function u(e,t={}){let r=e;if(t.size&&(a(r,{size:t.size}),r=(0,s.f)(r)),"0x00"===(0,s.f)(r))return!1;if("0x01"===(0,s.f)(r))return!0;throw new n.Cd(r)}function c(e,t={}){return Number(l(e,t))}function d(e,t={}){let r=(0,o.nr)(e);return t.size&&(a(r,{size:t.size}),r=(0,s.f)(r,{dir:"right"})),new TextDecoder().decode(r)}},82361:function(e,t,r){r.d(t,{O0:function(){return u},nr:function(){return f},qX:function(){return p}});var n=r(61472),i=r(40369),s=r(88202),o=r(21019),a=r(95046);let l=new TextEncoder;function u(e,t={}){return"number"==typeof e||"bigint"==typeof e?f((0,a.eC)(e,t)):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?((0,o.Yf)(r,{size:t.size}),(0,s.vk)(r,{size:t.size})):r}(e,t):(0,i.v)(e)?f(e,t):p(e,t)}let c={zero:48,nine:57,A:65,F:70,a:97,f:102};function d(e){return e>=c.zero&&e<=c.nine?e-c.zero:e>=c.A&&e<=c.F?e-(c.A-10):e>=c.a&&e<=c.f?e-(c.a-10):void 0}function f(e,t={}){let r=e;t.size&&((0,o.Yf)(r,{size:t.size}),r=(0,s.vk)(r,{dir:"right",size:t.size}));let i=r.slice(2);i.length%2&&(i=`0${i}`);let a=i.length/2,l=new Uint8Array(a);for(let e=0,t=0;e<a;e++){let r=d(i.charCodeAt(t++)),s=d(i.charCodeAt(t++));if(void 0===r||void 0===s)throw new n.G(`Invalid byte sequence ("${i[t-2]}${i[t-1]}" in "${i}").`);l[e]=16*r+s}return l}function p(e,t={}){let r=l.encode(e);return"number"==typeof t.size?((0,o.Yf)(r,{size:t.size}),(0,s.vk)(r,{dir:"right",size:t.size})):r}},95046:function(e,t,r){r.d(t,{$G:function(){return f},C4:function(){return l},NC:function(){return a},ci:function(){return u},eC:function(){return c}});var n=r(74188),i=r(88202),s=r(21019);let o=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(e,t={}){return"number"==typeof e||"bigint"==typeof e?c(e,t):"string"==typeof e?f(e,t):"boolean"==typeof e?l(e,t):u(e,t)}function l(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?((0,s.Yf)(r,{size:t.size}),(0,i.vk)(r,{size:t.size})):r}function u(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=o[e[t]];let n=`0x${r}`;return"number"==typeof t.size?((0,s.Yf)(n,{size:t.size}),(0,i.vk)(n,{dir:"right",size:t.size})):n}function c(e,t={}){let r;let{signed:s,size:o}=t,a=BigInt(e);o?r=s?(1n<<8n*BigInt(o)-1n)-1n:2n**(8n*BigInt(o))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let l="bigint"==typeof r&&s?-r-1n:0;if(r&&a>r||a<l){let t="bigint"==typeof e?"n":"";throw new n.J5({max:r?`${r}${t}`:void 0,min:`${l}${t}`,signed:s,size:o,value:`${e}${t}`})}let u=`0x${(s&&a<0?(1n<<BigInt(8*o))+BigInt(a):a).toString(16)}`;return o?(0,i.vk)(u,{size:o}):u}let d=new TextEncoder;function f(e,t={}){return u(d.encode(e),t)}},45626:function(e,t,r){r.d(t,{w:function(){return N}});var n=r(95861);let i=BigInt(4294967296-1),s=BigInt(32),o=(e,t,r)=>e<<r|t>>>32-r,a=(e,t,r)=>t<<r|e>>>32-r,l=(e,t,r)=>t<<r-32|e>>>64-r,u=(e,t,r)=>e<<r-32|t>>>64-r;var c=r(12403);let d=[],f=[],p=[],h=BigInt(0),_=BigInt(1),m=BigInt(2),y=BigInt(7),E=BigInt(256),g=BigInt(113);for(let e=0,t=_,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],d.push(2*(5*n+r)),f.push((e+1)*(e+2)/2%64);let i=h;for(let e=0;e<7;e++)(t=(t<<_^(t>>y)*g)%E)&m&&(i^=_<<(_<<BigInt(e))-_);p.push(i)}let[b,A]=function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let o=0;o<e.length;o++){let{h:a,l}=function(e,t=!1){return t?{h:Number(e&i),l:Number(e>>s&i)}:{h:0|Number(e>>s&i),l:0|Number(e&i)}}(e[o],t);[r[o],n[o]]=[a,l]}return[r,n]}(p,!0),w=(e,t,r)=>r>32?l(e,t,r):o(e,t,r),v=(e,t,r)=>r>32?u(e,t,r):a(e,t,r);class T extends c.kb{constructor(e,t,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,n.k8)(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,c.Jq)(this.state)}keccak(){c.iA||(0,c.l1)(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],o=r[i+1],a=w(s,o,1)^r[n],l=v(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=a,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=f[r],s=w(t,i,n),o=v(t,i,n),a=d[r];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=b[n],e[1]^=A[n]}r.fill(0)}(this.state32,this.rounds),c.iA||(0,c.l1)(this.state32),this.posOut=0,this.pos=0}update(e){(0,n.$h)(this);let{blockLen:t,state:r}=this,i=(e=(0,c.O0)(e)).length;for(let n=0;n<i;){let s=Math.min(t-this.pos,i-n);for(let t=0;t<s;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,n.$h)(this,!1),(0,n.gk)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,n.k8)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,n.eB)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new T(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let k=(0,c.hE)(()=>new T(136,1,32));var S=r(40369),I=r(82361),O=r(95046);function N(e,t){let r=k((0,S.v)(e,{strict:!1})?(0,I.O0)(e):e);return"bytes"===(t||"hex")?r:(0,O.NC)(r)}},98992:function(e,t,r){r.d(t,{k:function(){return n}});class n extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}},95861:function(e,t,r){function n(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function i(e,...t){if(!(e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function o(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function a(e,t){i(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}r.d(t,{$h:function(){return o},eB:function(){return a},gk:function(){return i},k8:function(){return n},z3:function(){return s}})},12403:function(e,t,r){r.d(t,{kb:function(){return f},l1:function(){return u},eV:function(){return d},GL:function(){return o},iA:function(){return l},O6:function(){return h},np:function(){return a},O0:function(){return c},Jq:function(){return s},hE:function(){return p}});let n="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var i=r(95861);function s(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function o(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function a(e,t){return e<<32-t|e>>>t}let l=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function u(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}}function c(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}(e)),(0,i.gk)(e),e}function d(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];(0,i.gk)(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class f{clone(){return this._cloneInto()}}function p(e){let t=t=>e().update(c(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function h(e=32){if(n&&"function"==typeof n.getRandomValues)return n.getRandomValues(new Uint8Array(e));if(n&&"function"==typeof n.randomBytes)return n.randomBytes(e);throw Error("crypto.getRandomValues must be defined")}}}]);