(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7247],{71079:function(e,t,r){Promise.resolve().then(r.bind(r,21407))},21407:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return K}});var s=r(57437),a=r(2265),n=r(47267),i=r(34446),o=r(36013),l=r(50495),c=r(93146),d=r(12785),m=r(38296),u=r(50993),p=r(82461),h=r(3153),x=r(35657),g=r(94693);function f(e){let{onSave:t,entries:r}=e,[n,i]=(0,a.useState)(50),[f,b]=(0,a.useState)(""),[y,v]=(0,a.useState)([]),[j,N]=(0,a.useState)(!1),{toast:w}=(0,x.pm)(),S={excellent:m.Z,good:u.Z,fair:p.Z,poor:h.Z},k=e=>e>=75?"excellent":e>=50?"good":e>=25?"fair":"poor",E=S[k(n)],C=async()=>{if(!f.trim()){w({title:"Error",description:"Please write something about your mood",variant:"destructive"});return}N(!0);try{t({id:"",moodScore:n,description:f.trim(),moodNote:y.join(", "),createdAt:new Date().toISOString()}),b(""),v([]),i(50),w({title:"Success",description:"Entry saved"})}catch(e){w({title:"Error",description:"Failed to save",variant:"destructive"})}finally{N(!1)}},A=e=>{v(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{children:(0,s.jsx)(o.ll,{children:"How are you feeling today?"})}),(0,s.jsxs)(o.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(E,{className:"w-8 h-8"}),(0,s.jsx)(d.i,{value:[n],onValueChange:e=>{let[t]=e;return i(t)},max:100,step:1,className:"flex-1"})]}),(0,s.jsx)(c.g,{placeholder:"Write about your mood...",value:f,onChange:e=>b(e.target.value),className:"min-h-[100px]"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Add mood tags"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["Happy","Sad","Anxious","Energetic","Tired","Stressed"].map(e=>(0,s.jsx)(g.C,{variant:y.includes(e)?"default":"outline",className:"cursor-pointer hover:bg-primary/90",onClick:()=>A(e),children:e},e))})]}),(0,s.jsx)(l.z,{onClick:C,disabled:j,className:"w-full",children:j?"Saving...":"Save Entry"})]})]}),r.length>0&&(0,s.jsxs)(o.Zb,{children:[(0,s.jsx)(o.Ol,{children:(0,s.jsx)(o.ll,{children:"Recent Entries"})}),(0,s.jsx)(o.aY,{children:(0,s.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,s.jsxs)("div",{className:"flex items-start justify-between p-4 border rounded-lg",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[a.createElement(S[k(e.moodScore)],{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"font-medium",children:k(e.moodScore)})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description}),e.moodNote&&(0,s.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.moodNote.split(", ").map((e,t)=>(0,s.jsx)(g.C,{variant:"secondary",className:"text-xs",children:e},t))})]}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()})]},e.id))})})]})]})}var b=r(85273),y=r(79869),v=r(24241),j=r(12140),N=r(64042),w=r(33907),S=r(85251),k=r(94207),E=r(92699),C=r(49321),A=r(89832),Z=r(4436),O=r(40933),T=r(60973);let I="AIzaSyDqQ7o2YwMLs46yYvwCOZJlruHx6iIrr1k";if(!I)throw Error("Gemini API key not configured");let P=new T.$D(I);async function D(e){try{let t=P.getGenerativeModel({model:"gemini-pro",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}}),r="\n      As a wellness AI assistant, analyze this health data and provide 3 key insights and recommendations:\n      \n      Health Data:\n      ".concat(JSON.stringify(e,null,2),'\n      \n      Please format your response as a JSON array with this structure:\n      [\n        {\n          "title": "Short insight title",\n          "description": "Detailed explanation and recommendation",\n          "priority": "high/medium/low",\n          "category": "sleep/activity/mood/heart-rate"\n        }\n      ]\n      \n      Focus on actionable insights that can help improve the user\'s well-being.\n    '),s=await t.generateContent(r),a=(await s.response).text();try{let e=JSON.parse(a);if(!Array.isArray(e))throw Error("Unable to generate health insights at this time");return e}catch(e){throw Error("Unable to generate health insights at this time")}}catch(e){throw Error("Unable to generate health insights at this time")}}async function U(e,t){try{let r=P.getGenerativeModel({model:"gemini-pro",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}}),s="\n      As a wellness AI assistant, provide 3 personalized recommendations based on the user's current mood (".concat(e,"/100) \n      and recent activities: ").concat(JSON.stringify(t),'\n      \n      Please format your response as a JSON array with this structure:\n      [\n        {\n          "title": "Short recommendation title",\n          "description": "Detailed explanation of the recommendation",\n          "type": "meditation/exercise/social/creative",\n          "duration": "estimated time in minutes"\n        }\n      ]\n      \n      Focus on practical, mood-improving activities.\n    '),a=await r.generateContent(s),n=(await a.response).text();try{let e=JSON.parse(n);if(!Array.isArray(e))throw Error("Unable to generate mood recommendations at this time");return e}catch(e){throw Error("Unable to generate mood recommendations at this time")}}catch(e){throw Error("Unable to generate mood recommendations at this time")}}async function _(e){try{let t=P.getGenerativeModel({model:"gemini-pro",generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024}}),r="\n      Analyze this sleep data and provide insights about sleep patterns and quality:\n      ".concat(JSON.stringify(e),'\n      \n      Please format your response as a JSON object with this structure:\n      {\n        "quality": "good/fair/poor",\n        "insights": [\n          {\n            "title": "Short insight title",\n            "description": "Detailed explanation",\n            "recommendation": "Specific improvement suggestion"\n          }\n        ],\n        "recommendations": {\n          "bedtime": "suggested bedtime",\n          "wakeTime": "suggested wake time",\n          "improvements": ["list of specific improvements"]\n        }\n      }\n    '),s=await t.generateContent(r),a=(await s.response).text();try{let e=JSON.parse(a);if("object"!=typeof e||!e.quality||!e.insights)throw Error("Unable to analyze sleep patterns at this time");return e}catch(e){throw Error("Unable to analyze sleep patterns at this time")}}catch(e){throw Error("Unable to analyze sleep patterns at this time")}}var M=r(6649),R=r(37346),z=r(55211),Y=r(36504),V=r(94880),G=r(21257),H=r(12092),J=r(95361),F=r(9521);z.kL.register(z.uw,z.f$,z.od,z.jn,z.Dx,z.u,z.De,z.Gu);let q=e=>e>=75?(0,s.jsx)(G.Z,{className:"w-5 h-5 text-green-500"}):e>=50?(0,s.jsx)(H.Z,{className:"w-5 h-5 text-blue-500"}):e>=25?(0,s.jsx)(J.Z,{className:"w-5 h-5 text-yellow-500"}):(0,s.jsx)(F.Z,{className:"w-5 h-5 text-red-500"}),L=e=>e>=75?"rgb(34, 197, 94)":e>=50?"rgb(59, 130, 246)":e>=25?"rgb(234, 179, 8)":"rgb(239, 68, 68)";function Q(e){let{entries:t=[]}=e,r=[...t].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),a={labels:r.map(e=>(0,Y.Z)(new Date(e.createdAt),"MMM d")).reverse(),datasets:[{label:"Mood Score",data:r.map(e=>e.score).reverse(),fill:!0,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,pointBackgroundColor:r.map(e=>L(e.score)).reverse()}]};return(0,s.jsxs)(o.Zb,{className:"w-full",children:[(0,s.jsxs)(o.Ol,{children:[(0,s.jsx)(o.ll,{children:"Mood History"}),(0,s.jsx)(o.SZ,{children:"Track your emotional journey over time"})]}),(0,s.jsxs)(o.aY,{children:[(0,s.jsxs)(b.mQ,{defaultValue:"graph",className:"w-full",children:[(0,s.jsxs)(b.dr,{className:"grid w-full grid-cols-2",children:[(0,s.jsx)(b.SP,{value:"graph",children:"Graph View"}),(0,s.jsx)(b.SP,{value:"list",children:"List View"})]}),(0,s.jsx)(b.nU,{value:"graph",className:"space-y-4",children:(0,s.jsx)("div",{className:"h-[300px] w-full",children:(0,s.jsx)(R.x1,{data:a,options:{responsive:!0,plugins:{legend:{display:!1},tooltip:{callbacks:{label:e=>"Mood: ".concat(e.raw,"/100")}}},scales:{y:{min:0,max:100,grid:{display:!0,color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{display:!1}}},maintainAspectRatio:!1}})})}),(0,s.jsx)(b.nU,{value:"list",children:(0,s.jsx)(V.x,{className:"h-[400px] w-full pr-4",children:(0,s.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,s.jsxs)(o.Zb,{className:"p-4",children:[(0,s.jsx)("div",{className:"flex items-start justify-between",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[q(e.score),(0,s.jsxs)("span",{className:"font-medium",children:["Score: ",e.score,"/100"]})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,Y.Z)(new Date(e.createdAt),"PPp")})]})}),(0,s.jsx)("p",{className:"mt-2 text-sm",children:e.description}),e.tags&&e.tags.length>0&&(0,s.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:e.tags.map(e=>(0,s.jsx)(g.C,{variant:"secondary",children:e},e))})]},e.id))})})})]}),0===t.length&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,s.jsx)(J.Z,{className:"h-12 w-12 text-muted-foreground mb-2"}),(0,s.jsx)("h3",{className:"font-medium",children:"No mood entries yet"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Start tracking your mood to see your history here"})]})]})]})}function K(){let[e,t]=(0,a.useState)([]),[r,c]=(0,a.useState)(null),[d,m]=(0,a.useState)(!1),[u,p]=(0,a.useState)([]),[h,g]=(0,a.useState)([]),[T,I]=(0,a.useState)(null),[P,R]=(0,a.useState)(!1),{toast:z}=(0,x.pm)(),{user:Y,authenticated:V,ready:G}=(0,M.s)(),[H,J]=(0,a.useState)("journal");(0,a.useEffect)(()=>{V&&(q(),F())},[V]);let F=async()=>{m(!0);try{var e,t,r;let{latitude:s,longitude:a}=(await new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(e,t)})).coords,n=await fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(a,",").concat(s,".json?access_token=").concat("pk.eyJ1IjoiZXJlbjk3IiwiYSI6ImNsendmMTY5YzBpZGgybnNpNHUxY2dmeXcifQ.SlfHg7eZD2QVa6miDf5hfw")),i=(await n.json()).features[0],o=null===(e=i.context.find(e=>e.id.startsWith("country")))||void 0===e?void 0:e.text,l=null===(t=i.context.find(e=>e.id.startsWith("place")))||void 0===t?void 0:t.text,d=null===(r=i.context.find(e=>e.id.startsWith("region")))||void 0===r?void 0:r.text;c({country:o,city:l,state:d})}catch(e){console.error("Error getting location:",e),z({title:"Location Error",description:"Could not determine your location. Showing general resources.",variant:"destructive"})}finally{m(!1)}},q=async()=>{try{let e=await fetch("/api/mental-health/mood");if(!e.ok)throw Error("Failed to fetch");let r=await e.json();t(r)}catch(e){console.error("Error:",e),z({title:"Error",description:"Failed to load entries",variant:"destructive"})}},L=async e=>{try{let r=await fetch("/api/mental-health/mood",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw Error("Failed to save");let s=await r.json();t(e=>[s,...e]),z({title:"Success",description:"Entry saved"})}catch(e){console.error("Error:",e),z({title:"Error",description:"Failed to save entry",variant:"destructive"})}},K=async()=>{if(!V){z({title:"Authentication Required",description:"Please sign in to generate insights",variant:"destructive"});return}R(!0);try{let t=e.slice(0,5);if(0===t.length){z({title:"No Mood Data",description:"Please add some mood entries first",variant:"destructive"});return}let r=t.reduce((e,t)=>e+t.moodScore,0)/t.length,a={heartRate:{average:75,max:120,min:60},sleep:{duration:7.5,efficiency:85,stages:{deep:20,light:55,rem:25}},steps:8e3,mood:r,activities:t.map(e=>({type:"mood_entry",timestamp:e.createdAt,score:e.moodScore,note:e.moodNote||""}))},n=!1,i=[],o=[];try{(o=await D(a)).length>0?p(o):(i.push("Could not generate health insights"),n=!0)}catch(e){i.push("Health insights error: ".concat(e.message)),n=!0}let l=[];try{(l=await U(a.mood,a.activities)).length>0?g(l):(i.push("Could not generate mood recommendations"),n=!0)}catch(e){i.push("Mood recommendations error: ".concat(e.message)),n=!0}let c=null;try{(c=await _([{date:new Date().toISOString(),duration:a.sleep.duration,efficiency:a.sleep.efficiency,stages:a.sleep.stages}]))?I(c):(i.push("Could not generate sleep analysis"),n=!0)}catch(e){i.push("Sleep analysis error: ".concat(e.message)),n=!0}n?z({title:"Some insights failed to generate",description:(0,s.jsxs)("div",{className:"mt-2 space-y-2",children:[i.map((e,t)=>(0,s.jsxs)("p",{className:"text-sm",children:["• ",e]},t)),(0,s.jsx)("p",{className:"text-sm mt-2",children:"This might be due to API limits or connectivity issues. Please try again later."})]}),variant:"destructive",duration:5e3}):o.length>0||l.length>0||c?z({title:"Success",description:"Generated insights based on your data",duration:3e3}):z({title:"No Insights Generated",description:"Could not generate any insights. This might be due to insufficient data or API issues.",variant:"destructive",duration:5e3})}catch(e){z({title:"Error Generating Insights",description:(0,s.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,s.jsxs)("p",{className:"text-sm",children:["Failed to generate insights: ",e.message]}),(0,s.jsx)("p",{className:"text-sm",children:"Please try again later or contact support if the issue persists."})]}),variant:"destructive",duration:5e3})}finally{R(!1)}};return(0,s.jsxs)("div",{className:"container mx-auto py-8 px-4 max-w-7xl mt-16",children:[(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Mental Health Tracking"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"Track, analyze, and improve your emotional well-being"})]}),(0,s.jsxs)(b.mQ,{defaultValue:"journal",className:"space-y-8",children:[(0,s.jsxs)(b.dr,{className:"grid w-full grid-cols-4 lg:w-[600px] relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute bottom-0 h-[2px] bg-primary transition-all duration-300",style:{left:"0%",width:"25%",transform:"translateX(".concat(100*["journal","history","insights","support"].indexOf(H),"%)")}}),(0,s.jsxs)(b.SP,{value:"journal",className:"flex items-center gap-2 relative overflow-hidden group",onClick:()=>J("journal"),children:[(0,s.jsx)(y.Z,{className:"w-4 h-4 transition-transform group-hover:scale-110"}),(0,s.jsxs)("span",{className:"relative",children:["Journal",(0,s.jsx)("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary transform scale-x-0 group-hover:scale-x-100 transition-transform"})]})]}),(0,s.jsxs)(b.SP,{value:"history",className:"flex items-center gap-2 relative overflow-hidden group",onClick:()=>J("history"),children:[(0,s.jsx)(v.Z,{className:"w-4 h-4 transition-transform group-hover:scale-110"}),(0,s.jsxs)("span",{className:"relative",children:["History",(0,s.jsx)("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary transform scale-x-0 group-hover:scale-x-100 transition-transform"})]})]}),(0,s.jsxs)(b.SP,{value:"insights",className:"flex items-center gap-2 relative overflow-hidden group",onClick:()=>J("insights"),children:[(0,s.jsx)(j.Z,{className:"w-4 h-4 transition-transform group-hover:scale-110"}),(0,s.jsxs)("span",{className:"relative",children:["Insights",(0,s.jsx)("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary transform scale-x-0 group-hover:scale-x-100 transition-transform"})]})]}),(0,s.jsxs)(b.SP,{value:"support",className:"flex items-center gap-2 relative overflow-hidden group",onClick:()=>J("support"),children:[(0,s.jsx)(N.Z,{className:"w-4 h-4 transition-transform group-hover:scale-110"}),(0,s.jsxs)("span",{className:"relative",children:["Support",(0,s.jsx)("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-primary transform scale-x-0 group-hover:scale-x-100 transition-transform"})]})]})]}),(0,s.jsxs)(i.M,{mode:"wait",children:[(0,s.jsx)(b.nU,{value:"journal",className:"space-y-4",children:(0,s.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(0,s.jsx)(o.Zb,{className:"border-none shadow-md hover:shadow-lg transition-shadow duration-300 bg-card/50 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsx)(o.aY,{className:"pt-6",children:(0,s.jsx)(f,{onSave:L,entries:e})})})})}),(0,s.jsx)(b.nU,{value:"history",children:(0,s.jsx)(n.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,s.jsx)(o.Zb,{className:"border-none shadow-md hover:shadow-lg transition-shadow duration-300 bg-card/50 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsx)(o.aY,{className:"pt-6",children:(0,s.jsx)(Q,{entries:e.map(e=>({id:e.id,score:e.moodScore,description:e.moodNote||e.description,createdAt:e.createdAt,tags:[]}))})})})})}),(0,s.jsx)(b.nU,{value:"insights",children:(0,s.jsxs)(n.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"AI Insights"}),(0,s.jsxs)(l.z,{onClick:K,disabled:P,className:"flex items-center gap-2 bg-primary/90 hover:bg-primary transition-colors duration-300",children:[(0,s.jsx)(w.Z,{className:"w-4 h-4"}),P?(0,s.jsxs)("span",{className:"flex items-center",children:[(0,s.jsx)(n.E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mr-2",children:(0,s.jsx)(S.Z,{className:"w-4 h-4"})}),"Generating..."]}):"Generate Insights"]})]}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:[{title:"Health Insights",icon:(0,s.jsx)(k.Z,{className:"w-5 h-5 text-primary"}),description:"AI-powered analysis of your health data",content:u,type:"insights"},{title:"Mood Recommendations",icon:(0,s.jsx)(y.Z,{className:"w-5 h-5 text-primary"}),description:"Personalized suggestions for mood improvement",content:h,type:"recommendations"},{title:"Sleep Analysis",icon:(0,s.jsx)(E.Z,{className:"w-5 h-5 text-primary"}),description:"AI analysis of your sleep patterns",content:T,type:"sleep"}].map((e,t)=>(0,s.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t,duration:.3},children:(0,s.jsxs)(o.Zb,{className:"border-none shadow-md hover:shadow-lg transition-all duration-300 bg-gradient-to-br from-card/80 to-card/40 backdrop-blur supports-[backdrop-filter]:bg-background/60 group overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-primary/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,s.jsxs)(o.Ol,{children:[(0,s.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"transform group-hover:scale-110 transition-transform duration-300",children:e.icon}),e.title]}),(0,s.jsx)(o.SZ,{children:e.description})]}),(0,s.jsx)(o.aY,{className:"space-y-4",children:"insights"===e.type&&e.content&&e.content.length>0?e.content.map((e,t)=>(0,s.jsxs)("div",{className:"p-4 bg-gradient-to-br from-muted/80 to-muted/40 rounded-lg border border-border/50 hover:border-primary/20 transition-colors duration-300",children:[(0,s.jsx)("h3",{className:"font-semibold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full shadow-sm ".concat("high"===e.priority?"bg-red-100 text-red-800 border border-red-200":"medium"===e.priority?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-green-100 text-green-800 border border-green-200"),children:e.priority}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full shadow-sm ".concat("sleep"===e.category?"bg-indigo-100 text-indigo-800 border border-indigo-200":"activity"===e.category?"bg-orange-100 text-orange-800 border border-orange-200":"mood"===e.category?"bg-pink-100 text-pink-800 border border-pink-200":"bg-blue-100 text-blue-800 border border-blue-200"),children:e.category})]})]},t)):"recommendations"===e.type&&e.content&&e.content.length>0?e.content.map((e,t)=>(0,s.jsxs)("div",{className:"p-4 bg-gradient-to-br from-muted/80 to-muted/40 rounded-lg border border-border/50 hover:border-primary/20 transition-colors duration-300",children:[(0,s.jsx)("h3",{className:"font-semibold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description}),(0,s.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full shadow-sm ".concat("meditation"===e.type?"bg-purple-100 text-purple-800 border border-purple-200":"exercise"===e.type?"bg-orange-100 text-orange-800 border border-orange-200":"social"===e.type?"bg-blue-100 text-blue-800 border border-blue-200":"bg-pink-100 text-pink-800 border border-pink-200"),children:e.type}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded-full shadow-sm bg-emerald-100 text-emerald-800 border border-emerald-200",children:e.duration})]})]},t)):"sleep"===e.type&&e.content?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"p-4 bg-gradient-to-br from-muted/80 to-muted/40 rounded-lg border border-border/50 hover:border-primary/20 transition-colors duration-300",children:[(0,s.jsx)("h3",{className:"font-semibold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Sleep Quality"}),(0,s.jsx)("p",{className:"text-2xl font-bold mt-1 capitalize ".concat("good"===e.content.quality?"text-emerald-600":"fair"===e.content.quality?"text-yellow-600":"text-red-600"),children:e.content.quality})]}),e.content.insights.map((e,t)=>(0,s.jsxs)("div",{className:"p-4 bg-gradient-to-br from-muted/80 to-muted/40 rounded-lg border border-border/50 hover:border-primary/20 transition-colors duration-300",children:[(0,s.jsx)("h3",{className:"font-semibold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description}),(0,s.jsx)("p",{className:"text-sm text-primary mt-2",children:e.recommendation})]},t))]}):(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"Generate insights to see analysis"})})]})},e.title))})]})}),(0,s.jsx)(b.nU,{value:"support",children:(0,s.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsx)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:(0,s.jsxs)(o.Zb,{className:"border-none shadow-md hover:shadow-lg transition-all duration-300 bg-card/50 backdrop-blur supports-[backdrop-filter]:bg-background/60 group",children:[(0,s.jsxs)(o.Ol,{children:[(0,s.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(C.Z,{className:"w-5 h-5 text-primary"}),"Local Emergency Resources"]}),(0,s.jsx)(o.SZ,{children:d?"Detecting your location...":r?"Resources for ".concat(r.city,", ").concat(r.state||r.country):"Location access required for local resources"})]}),(0,s.jsxs)(o.aY,{className:"space-y-4",children:[r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"p-4 bg-muted rounded-lg",children:[(0,s.jsxs)("h3",{className:"font-semibold flex items-center gap-2 mb-2",children:[(0,s.jsx)(A.Z,{className:"w-4 h-4"}),"Emergency Number"]}),(0,s.jsx)("p",{className:"text-2xl font-bold text-primary",children:{"United States":"911","United Kingdom":"999",Australia:"000",India:"112"}[r.country]||"112"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"For immediate emergency assistance"})]}),(0,s.jsxs)("div",{className:"p-4 bg-muted rounded-lg",children:[(0,s.jsxs)("h3",{className:"font-semibold flex items-center gap-2 mb-2",children:[(0,s.jsx)(N.Z,{className:"w-4 h-4"}),"Crisis Hotline"]}),(0,s.jsx)("p",{className:"text-2xl font-bold text-primary",children:{"United States":"988","United Kingdom":"116 123",Australia:"13 11 14",India:"9152987821"}[r.country]||"Contact your local mental health provider"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"24/7 Mental health crisis support"})]})]}),!r&&!d&&(0,s.jsxs)(l.z,{onClick:F,variant:"outline",className:"w-full",children:[(0,s.jsx)(C.Z,{className:"w-4 h-4 mr-2"}),"Enable Location Access"]})]})]})}),(0,s.jsx)(n.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:(0,s.jsxs)(o.Zb,{className:"border-none shadow-md hover:shadow-lg transition-all duration-300 bg-card/50 backdrop-blur supports-[backdrop-filter]:bg-background/60 group",children:[(0,s.jsxs)(o.Ol,{children:[(0,s.jsxs)(o.ll,{className:"flex items-center gap-2",children:[(0,s.jsx)(Z.Z,{className:"w-5 h-5 text-primary"}),"Global Resources"]}),(0,s.jsx)(o.SZ,{children:"International mental health support services"})]}),(0,s.jsx)(o.aY,{className:"space-y-4",children:(0,s.jsxs)("div",{className:"p-4 bg-muted rounded-lg",children:[(0,s.jsxs)("h3",{className:"font-semibold flex items-center gap-2 mb-2",children:[(0,s.jsx)(O.Z,{className:"w-4 h-4"}),"24/7 Online Support"]}),(0,s.jsxs)("ul",{className:"space-y-2",children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"https://www.7cups.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"7 Cups - Online Therapy"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"https://www.betterhelp.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"BetterHelp - Professional Counseling"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"https://www.crisistextline.org",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Crisis Text Line - Text Support"})})]})]})})]})})]})})})]})]})]})}},94693:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var s=r(57437);r(2265);var a=r(13027),n=r(37440);let i=(0,a.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(i({variant:r}),t),...a})}},50495:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var s=r(57437),a=r(2265),n=r(71538),i=r(13027),o=r(37440);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:c=!1,...d}=e,m=c?n.g7:"button";return(0,s.jsx)(m,{className:(0,o.cn)(l({variant:a,size:i,className:r})),ref:t,...d})});c.displayName="Button"},36013:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return l}});var s=r(57437),a=r(2265),n=r(37440);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});l.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},94880:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var s=r(57437),a=r(2265),n=r(62125),i=r(37440);let o=a.forwardRef((e,t)=>{let{className:r,children:a,...o}=e;return(0,s.jsxs)(n.fC,{ref:t,className:(0,i.cn)("relative overflow-hidden",r),...o,children:[(0,s.jsx)(n.l_,{className:"h-full w-full rounded-[inherit]",children:a}),(0,s.jsx)(l,{}),(0,s.jsx)(n.Ns,{})]})});o.displayName=n.fC.displayName;let l=a.forwardRef((e,t)=>{let{className:r,orientation:a="vertical",...o}=e;return(0,s.jsx)(n.gb,{ref:t,orientation:a,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===a&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===a&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...o,children:(0,s.jsx)(n.q4,{className:"relative flex-1 rounded-full bg-border"})})});l.displayName=n.gb.displayName},12785:function(e,t,r){"use strict";r.d(t,{i:function(){return o}});var s=r(57437),a=r(2265),n=r(6121),i=r(37440);let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsxs)(n.fC,{ref:t,className:(0,i.cn)("relative flex w-full touch-none select-none items-center",r),...a,children:[(0,s.jsx)(n.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,s.jsx)(n.e6,{className:"absolute h-full bg-primary"})}),(0,s.jsx)(n.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});o.displayName=n.fC.displayName},85273:function(e,t,r){"use strict";r.d(t,{SP:function(){return c},dr:function(){return l},mQ:function(){return o},nU:function(){return d}});var s=r(57437),a=r(2265),n=r(18146),i=r(37440);let o=n.fC,l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});l.displayName=n.aV.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});c.displayName=n.xz.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});d.displayName=n.VY.displayName},93146:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var s=r(57437),a=r(2265),n=r(37440);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...a})});i.displayName="Textarea"},35657:function(e,t,r){"use strict";r.d(t,{pm:function(){return u}});var s=r(2265);let a=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=o(c,e),l.forEach(e=>{e(c)})}function m(e){let{...t}=e,r=(a=(a+1)%Number.MAX_VALUE).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function u(){let[e,t]=s.useState(c);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},37440:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(44839),a=r(96164);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}}},function(e){e.O(0,[7674,8502,6649,7267,5990,2125,983,6575,2429,9835,2971,7023,1744],function(){return e(e.s=71079)}),_N_E=e.O()}]);